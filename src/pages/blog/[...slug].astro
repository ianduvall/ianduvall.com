---
import { CollectionEntry, getCollection } from "astro:content";
import BlogPost from "~/layouts/BlogPost.astro";

type Props = CollectionEntry<"blog">;
const [post] = await getCollection(
	"blog",
	(entry) => entry.slug === Astro.params.slug
);
if (!post) {
	return Astro.redirect("/not-found");
}
const { Content } = await post.render();
---

<BlogPost {...post.data}>
	<Content />
</BlogPost>
